"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/status";
exports.ids = ["pages/api/status"];
exports.modules = {

/***/ "(api-node)/./firebase/admin.ts":
/*!***************************!*\
  !*** ./firebase/admin.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addRecipient: () => (/* binding */ addRecipient),\n/* harmony export */   admindb: () => (/* binding */ admindb),\n/* harmony export */   checkRecipientClaimStatus: () => (/* binding */ checkRecipientClaimStatus),\n/* harmony export */   db: () => (/* binding */ db),\n/* harmony export */   listUnclaimedRecipients: () => (/* binding */ listUnclaimedRecipients),\n/* harmony export */   markClaimed: () => (/* binding */ markClaimed)\n/* harmony export */ });\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase-admin */ \"firebase-admin\");\n/* harmony import */ var firebase_admin__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(firebase_admin__WEBPACK_IMPORTED_MODULE_0__);\n// firebase/admin.ts\n\nconst privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\\\n/g, '\\n');\nif (!(firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().apps)?.length) {\n    firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().initializeApp({\n        credential: firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().credential.cert({\n            projectId: process.env.FIREBASE_PROJECT_ID,\n            clientEmail: process.env.FIREBASE_CLIENT_EMAIL,\n            privateKey\n        })\n    });\n}\nconst db = firebase_admin__WEBPACK_IMPORTED_MODULE_0___default().firestore();\nconst admindb = db;\n/**\n * 수령 여부 확인 (중복 방지)\n */ async function checkRecipientClaimStatus(address) {\n    const doc = await db.doc(`${process.env.AIRDROP_COLLECTION_PATH}/${address}`).get();\n    return doc.exists;\n}\n/**\n * 수령 기록 저장\n */ async function markClaimed(address, txDigest, amount) {\n    await db.doc(`${process.env.AIRDROP_COLLECTION_PATH}/${address}`).set({\n        address,\n        txDigest,\n        amount,\n        claimedAt: Date.now()\n    });\n}\n/**\n * 중복 수령 방지용 리스트\n */ async function listUnclaimedRecipients() {\n    const snapshot = await admindb.collection('airdrop').doc('queue').collection('queue').get();\n    const list = [];\n    snapshot.forEach((doc)=>{\n        if (doc.exists) list.push(doc.id);\n    });\n    return list;\n}\n/**\n * Firestore에 수령 대상 추가\n */ async function addRecipient(address, amount) {\n    const ref = admindb.collection('airdrop').doc('recipients').collection('list').doc(address);\n    await ref.set({\n        airdropAmount: Math.floor(amount),\n        addedAt: Date.now()\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL2ZpcmViYXNlL2FkbWluLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ2U7QUFFbkMsTUFBTUMsYUFBYUMsUUFBUUMsR0FBRyxDQUFDQyxvQkFBb0IsRUFBRUMsUUFBUSxRQUFRO0FBRXJFLElBQUksQ0FBQ0wsNERBQVUsRUFBRU8sUUFBUTtJQUN2QlAsbUVBQW1CLENBQUM7UUFDbEJTLFlBQVlULGdFQUFnQixDQUFDVSxJQUFJLENBQUM7WUFDaENDLFdBQVdULFFBQVFDLEdBQUcsQ0FBQ1MsbUJBQW1CO1lBQzFDQyxhQUFhWCxRQUFRQyxHQUFHLENBQUNXLHFCQUFxQjtZQUM5Q2I7UUFDRjtJQUNGO0FBQ0Y7QUFFTyxNQUFNYyxLQUFLZiwrREFBZSxHQUFHO0FBQzdCLE1BQU1pQixVQUFVRixHQUFHO0FBRTFCOztDQUVDLEdBQ00sZUFBZUcsMEJBQTBCQyxPQUFlO0lBQzdELE1BQU1DLE1BQU0sTUFBTUwsR0FBR0ssR0FBRyxDQUFDLEdBQUdsQixRQUFRQyxHQUFHLENBQUNrQix1QkFBdUIsQ0FBQyxDQUFDLEVBQUVGLFNBQVMsRUFBRUcsR0FBRztJQUNqRixPQUFPRixJQUFJRyxNQUFNO0FBQ25CO0FBRUE7O0NBRUMsR0FDTSxlQUFlQyxZQUFZTCxPQUFlLEVBQUVNLFFBQWdCLEVBQUVDLE1BQWU7SUFDbEYsTUFBTVgsR0FBR0ssR0FBRyxDQUFDLEdBQUdsQixRQUFRQyxHQUFHLENBQUNrQix1QkFBdUIsQ0FBQyxDQUFDLEVBQUVGLFNBQVMsRUFBRVEsR0FBRyxDQUFDO1FBQ3BFUjtRQUNBTTtRQUNBQztRQUNBRSxXQUFXQyxLQUFLQyxHQUFHO0lBQ3JCO0FBQ0Y7QUFFQTs7Q0FFQyxHQUNNLGVBQWVDO0lBQ3BCLE1BQU1DLFdBQVcsTUFBTWYsUUFDcEJnQixVQUFVLENBQUMsV0FDWGIsR0FBRyxDQUFDLFNBQ0phLFVBQVUsQ0FBQyxTQUNYWCxHQUFHO0lBRU4sTUFBTVksT0FBaUIsRUFBRTtJQUN6QkYsU0FBU0csT0FBTyxDQUFDLENBQUNmO1FBQ2hCLElBQUlBLElBQUlHLE1BQU0sRUFBRVcsS0FBS0UsSUFBSSxDQUFDaEIsSUFBSWlCLEVBQUU7SUFDbEM7SUFFQSxPQUFPSDtBQUNUO0FBRUE7O0NBRUMsR0FDTSxlQUFlSSxhQUFhbkIsT0FBZSxFQUFFTyxNQUFjO0lBQ2hFLE1BQU1hLE1BQU10QixRQUNUZ0IsVUFBVSxDQUFDLFdBQ1hiLEdBQUcsQ0FBQyxjQUNKYSxVQUFVLENBQUMsUUFDWGIsR0FBRyxDQUFDRDtJQUVQLE1BQU1vQixJQUFJWixHQUFHLENBQUM7UUFDWmEsZUFBZUMsS0FBS0MsS0FBSyxDQUFDaEI7UUFDMUJpQixTQUFTZCxLQUFLQyxHQUFHO0lBQ25CO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcS2ltSmluS3dhblxca2FyZW53b3JsZF9iYWNrZW5kXFxmaXJlYmFzZVxcYWRtaW4udHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gZmlyZWJhc2UvYWRtaW4udHNcbmltcG9ydCBhZG1pbiBmcm9tICdmaXJlYmFzZS1hZG1pbic7XG5cbmNvbnN0IHByaXZhdGVLZXkgPSBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUklWQVRFX0tFWT8ucmVwbGFjZSgvXFxcXG4vZywgJ1xcbicpO1xuXG5pZiAoIWFkbWluLmFwcHM/Lmxlbmd0aCkge1xuICBhZG1pbi5pbml0aWFsaXplQXBwKHtcbiAgICBjcmVkZW50aWFsOiBhZG1pbi5jcmVkZW50aWFsLmNlcnQoe1xuICAgICAgcHJvamVjdElkOiBwcm9jZXNzLmVudi5GSVJFQkFTRV9QUk9KRUNUX0lELFxuICAgICAgY2xpZW50RW1haWw6IHByb2Nlc3MuZW52LkZJUkVCQVNFX0NMSUVOVF9FTUFJTCxcbiAgICAgIHByaXZhdGVLZXksXG4gICAgfSksXG4gIH0pO1xufVxuXG5leHBvcnQgY29uc3QgZGIgPSBhZG1pbi5maXJlc3RvcmUoKTtcbmV4cG9ydCBjb25zdCBhZG1pbmRiID0gZGI7XG5cbi8qKlxuICog7IiY66C5IOyXrOu2gCDtmZXsnbggKOykkeuztSDrsKnsp4ApXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBjaGVja1JlY2lwaWVudENsYWltU3RhdHVzKGFkZHJlc3M6IHN0cmluZykge1xuICBjb25zdCBkb2MgPSBhd2FpdCBkYi5kb2MoYCR7cHJvY2Vzcy5lbnYuQUlSRFJPUF9DT0xMRUNUSU9OX1BBVEh9LyR7YWRkcmVzc31gKS5nZXQoKTtcbiAgcmV0dXJuIGRvYy5leGlzdHM7XG59XG5cbi8qKlxuICog7IiY66C5IOq4sOuhnSDsoIDsnqVcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtDbGFpbWVkKGFkZHJlc3M6IHN0cmluZywgdHhEaWdlc3Q6IHN0cmluZywgYW1vdW50PzogbnVtYmVyKSB7XG4gIGF3YWl0IGRiLmRvYyhgJHtwcm9jZXNzLmVudi5BSVJEUk9QX0NPTExFQ1RJT05fUEFUSH0vJHthZGRyZXNzfWApLnNldCh7XG4gICAgYWRkcmVzcyxcbiAgICB0eERpZ2VzdCxcbiAgICBhbW91bnQsXG4gICAgY2xhaW1lZEF0OiBEYXRlLm5vdygpLFxuICB9KTtcbn1cblxuLyoqXG4gKiDspJHrs7Ug7IiY66C5IOuwqeyngOyaqSDrpqzsiqTtirhcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGxpc3RVbmNsYWltZWRSZWNpcGllbnRzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBhZG1pbmRiXG4gICAgLmNvbGxlY3Rpb24oJ2FpcmRyb3AnKVxuICAgIC5kb2MoJ3F1ZXVlJylcbiAgICAuY29sbGVjdGlvbigncXVldWUnKVxuICAgIC5nZXQoKTtcblxuICBjb25zdCBsaXN0OiBzdHJpbmdbXSA9IFtdO1xuICBzbmFwc2hvdC5mb3JFYWNoKChkb2MpID0+IHtcbiAgICBpZiAoZG9jLmV4aXN0cykgbGlzdC5wdXNoKGRvYy5pZCk7XG4gIH0pO1xuXG4gIHJldHVybiBsaXN0O1xufVxuXG4vKipcbiAqIEZpcmVzdG9yZeyXkCDsiJjroLkg64yA7IOBIOy2lOqwgFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gYWRkUmVjaXBpZW50KGFkZHJlc3M6IHN0cmluZywgYW1vdW50OiBudW1iZXIpIHtcbiAgY29uc3QgcmVmID0gYWRtaW5kYlxuICAgIC5jb2xsZWN0aW9uKCdhaXJkcm9wJylcbiAgICAuZG9jKCdyZWNpcGllbnRzJylcbiAgICAuY29sbGVjdGlvbignbGlzdCcpXG4gICAgLmRvYyhhZGRyZXNzKTtcblxuICBhd2FpdCByZWYuc2V0KHtcbiAgICBhaXJkcm9wQW1vdW50OiBNYXRoLmZsb29yKGFtb3VudCksXG4gICAgYWRkZWRBdDogRGF0ZS5ub3coKSxcbiAgfSk7XG59XG5cblxuXG5cblxuXG5cblxuIl0sIm5hbWVzIjpbImFkbWluIiwicHJpdmF0ZUtleSIsInByb2Nlc3MiLCJlbnYiLCJGSVJFQkFTRV9QUklWQVRFX0tFWSIsInJlcGxhY2UiLCJhcHBzIiwibGVuZ3RoIiwiaW5pdGlhbGl6ZUFwcCIsImNyZWRlbnRpYWwiLCJjZXJ0IiwicHJvamVjdElkIiwiRklSRUJBU0VfUFJPSkVDVF9JRCIsImNsaWVudEVtYWlsIiwiRklSRUJBU0VfQ0xJRU5UX0VNQUlMIiwiZGIiLCJmaXJlc3RvcmUiLCJhZG1pbmRiIiwiY2hlY2tSZWNpcGllbnRDbGFpbVN0YXR1cyIsImFkZHJlc3MiLCJkb2MiLCJBSVJEUk9QX0NPTExFQ1RJT05fUEFUSCIsImdldCIsImV4aXN0cyIsIm1hcmtDbGFpbWVkIiwidHhEaWdlc3QiLCJhbW91bnQiLCJzZXQiLCJjbGFpbWVkQXQiLCJEYXRlIiwibm93IiwibGlzdFVuY2xhaW1lZFJlY2lwaWVudHMiLCJzbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJsaXN0IiwiZm9yRWFjaCIsInB1c2giLCJpZCIsImFkZFJlY2lwaWVudCIsInJlZiIsImFpcmRyb3BBbW91bnQiLCJNYXRoIiwiZmxvb3IiLCJhZGRlZEF0Il0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./firebase/admin.ts\n");

/***/ }),

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstatus.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstatus.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_status_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\status.ts */ \"(api-node)/./pages/api/status.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_status_ts__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_status_ts__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/status\",\n        pathname: \"/api/status\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_status_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc3RhdHVzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNzdGF0dXMudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDb0Q7QUFDcEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxpREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxzdGF0dXMudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3N0YXR1c1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3N0YXR1c1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstatus.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/status.ts":
/*!*****************************!*\
  !*** ./pages/api/status.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _firebase_admin__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/firebase/admin */ \"(api-node)/./firebase/admin.ts\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! node-fetch */ \"node-fetch\");\n/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_1__);\n\n\n// ✅ .env 설정값 가져오기\nconst COLLECTION_PATH = process.env.AIRDROP_COLLECTION_PATH || \"airdrop/claims/claims\";\nconst CLAIM_PER_USER = BigInt(process.env.AIRDROP_AMOUNT || \"2000\");\nconst MAX_AIRDROP = BigInt(process.env.MAX_AIRDROP_TOTAL || \"200000000\");\nconst SLACK_BOT_TOKEN = process.env.SLACK_BOT_TOKEN;\nconst SLACK_CHANNEL_ID = process.env.SLACK_CHANNEL_ID;\nasync function handler(req, res) {\n    // ✅ CORS\n    res.setHeader(\"Access-Control-Allow-Origin\", \"*\");\n    res.setHeader(\"Access-Control-Allow-Methods\", \"GET,POST,OPTIONS\");\n    res.setHeader(\"Access-Control-Allow-Headers\", \"Content-Type\");\n    if (req.method === \"OPTIONS\") return res.status(200).end();\n    if (req.method !== \"GET\") return res.status(405).json({\n        error: \"Method Not Allowed\"\n    });\n    const wallet = req.query.address;\n    try {\n        // ✅ Firestore에서 수령자 수 조회\n        const snapshot = await _firebase_admin__WEBPACK_IMPORTED_MODULE_0__.admindb.collection(COLLECTION_PATH).get();\n        const firestoreClaims = snapshot.size;\n        // ✅ Slack 메시지 조회 (중복 제출 체크용)\n        let slackMessages = [];\n        if (SLACK_BOT_TOKEN && SLACK_CHANNEL_ID) {\n            const slackRes = await node_fetch__WEBPACK_IMPORTED_MODULE_1___default()(`https://slack.com/api/conversations.history?channel=${SLACK_CHANNEL_ID}&limit=1000`, {\n                headers: {\n                    Authorization: `Bearer ${SLACK_BOT_TOKEN}`\n                }\n            });\n            const slackData = await slackRes.json();\n            if (slackData.ok) slackMessages = slackData.messages ?? [];\n        }\n        // ✅ 전송 수량 및 진행률 계산\n        const totalSupply = MAX_AIRDROP;\n        const sentAmount = CLAIM_PER_USER * BigInt(firestoreClaims);\n        const remainingAmount = totalSupply > sentAmount ? totalSupply - sentAmount : 0n;\n        const percentage = (Number(sentAmount) / Number(totalSupply) * 100).toFixed(2);\n        // ✅ 특정 주소의 수령 여부 확인\n        let alreadyClaimed = false;\n        if (wallet?.startsWith(\"0x\")) {\n            const doc = await _firebase_admin__WEBPACK_IMPORTED_MODULE_0__.admindb.collection(COLLECTION_PATH).doc(wallet).get();\n            const normalized = wallet.toLowerCase().replace(/^0x/, \"\");\n            const slackMatch = slackMessages.some((msg)=>typeof msg.text === \"string\" && msg.text.toLowerCase().includes(normalized));\n            alreadyClaimed = doc.exists || slackMatch;\n        }\n        // ✅ 응답 반환\n        return res.status(200).json({\n            status: \"ok\",\n            wallet: wallet || null,\n            alreadyClaimed,\n            total: totalSupply.toString(),\n            claimed: sentAmount.toString(),\n            remaining: remainingAmount.toString(),\n            percent: percentage,\n            userCount: firestoreClaims\n        });\n    } catch (err) {\n        console.error(\"❌ /status error:\", err.message);\n        return res.status(500).json({\n            error: \"Status check failed\"\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVNuQjtZQUNUb0IsV0FBV2hDO1FBQ2I7SUFDRixFQUFFLE9BQU9pQyxLQUFVO1FBQ2pCQyxRQUFRekMsS0FBSyxDQUFDLG9CQUFvQndDLElBQUlFLE9BQU87UUFDN0MsT0FBT2hELElBQUlHLE1BQU0sQ0FBQyxLQUFLRSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFzQjtJQUM3RDtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXEtpbUppbkt3YW5cXGthcmVud29ybGRfYmFja2VuZFxccGFnZXNcXGFwaVxcc3RhdHVzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XHJcbmltcG9ydCB7IGFkbWluZGIgfSBmcm9tIFwiQC9maXJlYmFzZS9hZG1pblwiO1xyXG5pbXBvcnQgZmV0Y2ggZnJvbSBcIm5vZGUtZmV0Y2hcIjtcclxuXHJcbi8vIOKchSAuZW52IOyEpOygleqwkiDqsIDsoLjsmKTquLBcclxuY29uc3QgQ09MTEVDVElPTl9QQVRIID0gcHJvY2Vzcy5lbnYuQUlSRFJPUF9DT0xMRUNUSU9OX1BBVEggfHwgXCJhaXJkcm9wL2NsYWltcy9jbGFpbXNcIjtcclxuY29uc3QgQ0xBSU1fUEVSX1VTRVIgPSBCaWdJbnQocHJvY2Vzcy5lbnYuQUlSRFJPUF9BTU9VTlQgfHwgXCIyMDAwXCIpO1xyXG5jb25zdCBNQVhfQUlSRFJPUCA9IEJpZ0ludChwcm9jZXNzLmVudi5NQVhfQUlSRFJPUF9UT1RBTCB8fCBcIjIwMDAwMDAwMFwiKTtcclxuY29uc3QgU0xBQ0tfQk9UX1RPS0VOID0gcHJvY2Vzcy5lbnYuU0xBQ0tfQk9UX1RPS0VOO1xyXG5jb25zdCBTTEFDS19DSEFOTkVMX0lEID0gcHJvY2Vzcy5lbnYuU0xBQ0tfQ0hBTk5FTF9JRDtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICAvLyDinIUgQ09SU1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIiwgXCIqXCIpO1xyXG4gIHJlcy5zZXRIZWFkZXIoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCIsIFwiR0VULFBPU1QsT1BUSU9OU1wiKTtcclxuICByZXMuc2V0SGVhZGVyKFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctSGVhZGVyc1wiLCBcIkNvbnRlbnQtVHlwZVwiKTtcclxuICBpZiAocmVxLm1ldGhvZCA9PT0gXCJPUFRJT05TXCIpIHJldHVybiByZXMuc3RhdHVzKDIwMCkuZW5kKCk7XHJcblxyXG4gIGlmIChyZXEubWV0aG9kICE9PSBcIkdFVFwiKSByZXR1cm4gcmVzLnN0YXR1cyg0MDUpLmpzb24oeyBlcnJvcjogXCJNZXRob2QgTm90IEFsbG93ZWRcIiB9KTtcclxuXHJcbiAgY29uc3Qgd2FsbGV0ID0gcmVxLnF1ZXJ5LmFkZHJlc3MgYXMgc3RyaW5nO1xyXG5cclxuICB0cnkge1xyXG4gICAgLy8g4pyFIEZpcmVzdG9yZeyXkOyEnCDsiJjroLnsnpAg7IiYIOyhsO2ajFxyXG4gICAgY29uc3Qgc25hcHNob3QgPSBhd2FpdCBhZG1pbmRiLmNvbGxlY3Rpb24oQ09MTEVDVElPTl9QQVRIKS5nZXQoKTtcclxuICAgIGNvbnN0IGZpcmVzdG9yZUNsYWltcyA9IHNuYXBzaG90LnNpemU7XHJcblxyXG4gICAgLy8g4pyFIFNsYWNrIOuplOyLnOyngCDsobDtmowgKOykkeuztSDsoJzstpwg7LK07YGs7JqpKVxyXG4gICAgbGV0IHNsYWNrTWVzc2FnZXM6IGFueVtdID0gW107XHJcbiAgICBpZiAoU0xBQ0tfQk9UX1RPS0VOICYmIFNMQUNLX0NIQU5ORUxfSUQpIHtcclxuICAgICAgY29uc3Qgc2xhY2tSZXMgPSBhd2FpdCBmZXRjaChcclxuICAgICAgICBgaHR0cHM6Ly9zbGFjay5jb20vYXBpL2NvbnZlcnNhdGlvbnMuaGlzdG9yeT9jaGFubmVsPSR7U0xBQ0tfQ0hBTk5FTF9JRH0mbGltaXQ9MTAwMGAsXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7U0xBQ0tfQk9UX1RPS0VOfWAgfSxcclxuICAgICAgICB9XHJcbiAgICAgICk7XHJcbiAgICAgIGNvbnN0IHNsYWNrRGF0YSA9IGF3YWl0IHNsYWNrUmVzLmpzb24oKTtcclxuICAgICAgaWYgKHNsYWNrRGF0YS5vaykgc2xhY2tNZXNzYWdlcyA9IHNsYWNrRGF0YS5tZXNzYWdlcyA/PyBbXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDinIUg7KCE7IahIOyImOufiSDrsI8g7KeE7ZaJ66WgIOqzhOyCsFxyXG4gICAgY29uc3QgdG90YWxTdXBwbHkgPSBNQVhfQUlSRFJPUDtcclxuICAgIGNvbnN0IHNlbnRBbW91bnQgPSBDTEFJTV9QRVJfVVNFUiAqIEJpZ0ludChmaXJlc3RvcmVDbGFpbXMpO1xyXG4gICAgY29uc3QgcmVtYWluaW5nQW1vdW50ID0gdG90YWxTdXBwbHkgPiBzZW50QW1vdW50ID8gdG90YWxTdXBwbHkgLSBzZW50QW1vdW50IDogMG47XHJcbiAgICBjb25zdCBwZXJjZW50YWdlID0gKChOdW1iZXIoc2VudEFtb3VudCkgLyBOdW1iZXIodG90YWxTdXBwbHkpKSAqIDEwMCkudG9GaXhlZCgyKTtcclxuXHJcbiAgICAvLyDinIUg7Yq57KCVIOyjvOyGjOydmCDsiJjroLkg7Jes67aAIO2ZleyduFxyXG4gICAgbGV0IGFscmVhZHlDbGFpbWVkID0gZmFsc2U7XHJcbiAgICBpZiAod2FsbGV0Py5zdGFydHNXaXRoKFwiMHhcIikpIHtcclxuICAgICAgY29uc3QgZG9jID0gYXdhaXQgYWRtaW5kYi5jb2xsZWN0aW9uKENPTExFQ1RJT05fUEFUSCkuZG9jKHdhbGxldCkuZ2V0KCk7XHJcbiAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSB3YWxsZXQudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9eMHgvLCBcIlwiKTtcclxuICAgICAgY29uc3Qgc2xhY2tNYXRjaCA9IHNsYWNrTWVzc2FnZXMuc29tZShcclxuICAgICAgICAobXNnKSA9PiB0eXBlb2YgbXNnLnRleHQgPT09IFwic3RyaW5nXCIgJiYgbXNnLnRleHQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhub3JtYWxpemVkKVxyXG4gICAgICApO1xyXG4gICAgICBhbHJlYWR5Q2xhaW1lZCA9IGRvYy5leGlzdHMgfHwgc2xhY2tNYXRjaDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDinIUg7J2R64u1IOuwmO2ZmFxyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgc3RhdHVzOiBcIm9rXCIsXHJcbiAgICAgIHdhbGxldDogd2FsbGV0IHx8IG51bGwsXHJcbiAgICAgIGFscmVhZHlDbGFpbWVkLFxyXG4gICAgICB0b3RhbDogdG90YWxTdXBwbHkudG9TdHJpbmcoKSxcclxuICAgICAgY2xhaW1lZDogc2VudEFtb3VudC50b1N0cmluZygpLFxyXG4gICAgICByZW1haW5pbmc6IHJlbWFpbmluZ0Ftb3VudC50b1N0cmluZygpLFxyXG4gICAgICBwZXJjZW50OiBwZXJjZW50YWdlLFxyXG4gICAgICB1c2VyQ291bnQ6IGZpcmVzdG9yZUNsYWltcyxcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi4p2MIC9zdGF0dXMgZXJyb3I6XCIsIGVyci5tZXNzYWdlKTtcclxuICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBcIlN0YXR1cyBjaGVjayBmYWlsZWRcIiB9KTtcclxuICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImFkbWluZGIiLCJmZXRjaCIsIkNPTExFQ1RJT05fUEFUSCIsInByb2Nlc3MiLCJlbnYiLCJBSVJEUk9QX0NPTExFQ1RJT05fUEFUSCIsIkNMQUlNX1BFUl9VU0VSIiwiQmlnSW50IiwiQUlSRFJPUF9BTU9VTlQiLCJNQVhfQUlSRFJPUCIsIk1BWF9BSVJEUk9QX1RPVEFMIiwiU0xBQ0tfQk9UX1RPS0VOIiwiU0xBQ0tfQ0hBTk5FTF9JRCIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJzZXRIZWFkZXIiLCJtZXRob2QiLCJzdGF0dXMiLCJlbmQiLCJqc29uIiwiZXJyb3IiLCJ3YWxsZXQiLCJxdWVyeSIsImFkZHJlc3MiLCJzbmFwc2hvdCIsImNvbGxlY3Rpb24iLCJnZXQiLCJmaXJlc3RvcmVDbGFpbXMiLCJzaXplIiwic2xhY2tNZXNzYWdlcyIsInNsYWNrUmVzIiwiaGVhZGVycyIsIkF1dGhvcml6YXRpb24iLCJzbGFja0RhdGEiLCJvayIsIm1lc3NhZ2VzIiwidG90YWxTdXBwbHkiLCJzZW50QW1vdW50IiwicmVtYWluaW5nQW1vdW50IiwicGVyY2VudGFnZSIsIk51bWJlciIsInRvRml4ZWQiLCJhbHJlYWR5Q2xhaW1lZCIsInN0YXJ0c1dpdGgiLCJkb2MiLCJub3JtYWxpemVkIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwic2xhY2tNYXRjaCIsInNvbWUiLCJtc2ciLCJ0ZXh0IiwiaW5jbHVkZXMiLCJleGlzdHMiLCJ0b3RhbCIsInRvU3RyaW5nIiwiY2xhaW1lZCIsInJlbWFpbmluZyIsInBlcmNlbnQiLCJ1c2VyQ291bnQiLCJlcnIiLCJjb25zb2xlIiwibWVzc2FnZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/status.ts\n");

/***/ }),

/***/ "firebase-admin":
/*!*********************************!*\
  !*** external "firebase-admin" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("firebase-admin");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("node-fetch");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fstatus&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cstatus.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();